\section{/\+Users/jselfridge/\+Documents/\+Git\+Hub/\+Black\+Box/src/i2c.c File Reference}
\label{i2c_8c}\index{/\+Users/jselfridge/\+Documents/\+Git\+Hub/\+Black\+Box/src/i2c.\+c@{/\+Users/jselfridge/\+Documents/\+Git\+Hub/\+Black\+Box/src/i2c.\+c}}
{\ttfamily \#include \char`\"{}i2c.\+h\char`\"{}}\newline
{\ttfamily \#include $<$errno.\+h$>$}\newline
{\ttfamily \#include $<$fcntl.\+h$>$}\newline
{\ttfamily \#include $<$linux/i2c-\/dev.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$sys/ioctl.\+h$>$}\newline
{\ttfamily \#include $<$sys/time.\+h$>$}\newline
{\ttfamily \#include $<$unistd.\+h$>$}\newline
{\ttfamily \#include \char`\"{}imu.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}timer.\+h\char`\"{}}\newline
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \textbf{ i2c\+\_\+init} (int $\ast$fd, ushort bus, ushort slave\+\_\+addr)
\item 
void \textbf{ i2c\+\_\+exit} (int $\ast$fd)
\item 
int \textbf{ i2c\+\_\+slave} (int fd, unsigned char slave\+\_\+addr)
\item 
int \textbf{ i2c\+\_\+write} (int fd, unsigned char slave\+\_\+addr, unsigned char reg\+\_\+addr, unsigned char length, unsigned char const $\ast$data)
\item 
int \textbf{ i2c\+\_\+read} (int fd, unsigned char slave\+\_\+addr, unsigned char reg\+\_\+addr, unsigned char length, unsigned char $\ast$data)
\item 
int \textbf{ i2c\+\_\+get\+\_\+ms} (unsigned long $\ast$ms)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\mbox{\label{i2c_8c_a6a4eb4288befb89cdb4c91388b991da3}} 
\index{i2c.\+c@{i2c.\+c}!i2c\+\_\+exit@{i2c\+\_\+exit}}
\index{i2c\+\_\+exit@{i2c\+\_\+exit}!i2c.\+c@{i2c.\+c}}
\subsubsection{i2c\+\_\+exit()}
{\footnotesize\ttfamily void i2c\+\_\+exit (\begin{DoxyParamCaption}\item[{int $\ast$}]{fd }\end{DoxyParamCaption})}

i2c\+\_\+exit Closes file descriptor and exits I2C channel. \mbox{\label{i2c_8c_ac453d14ecb36d0b4120fe2300ebe1e88}} 
\index{i2c.\+c@{i2c.\+c}!i2c\+\_\+get\+\_\+ms@{i2c\+\_\+get\+\_\+ms}}
\index{i2c\+\_\+get\+\_\+ms@{i2c\+\_\+get\+\_\+ms}!i2c.\+c@{i2c.\+c}}
\subsubsection{i2c\+\_\+get\+\_\+ms()}
{\footnotesize\ttfamily int i2c\+\_\+get\+\_\+ms (\begin{DoxyParamCaption}\item[{unsigned long $\ast$}]{ms }\end{DoxyParamCaption})}

i2c\+\_\+get\+\_\+ms Determines the number of milliseconds since epoch. \mbox{\label{i2c_8c_aca5c7fc94e3f29302d2c3cf690c1abfb}} 
\index{i2c.\+c@{i2c.\+c}!i2c\+\_\+init@{i2c\+\_\+init}}
\index{i2c\+\_\+init@{i2c\+\_\+init}!i2c.\+c@{i2c.\+c}}
\subsubsection{i2c\+\_\+init()}
{\footnotesize\ttfamily int i2c\+\_\+init (\begin{DoxyParamCaption}\item[{int $\ast$}]{fd,  }\item[{ushort}]{bus,  }\item[{ushort}]{slave\+\_\+addr }\end{DoxyParamCaption})}

i2c\+\_\+init Assigns a file descriptor after opening an I2C bus. \mbox{\label{i2c_8c_a466df9db074b3d42cb3f5420cedc113a}} 
\index{i2c.\+c@{i2c.\+c}!i2c\+\_\+read@{i2c\+\_\+read}}
\index{i2c\+\_\+read@{i2c\+\_\+read}!i2c.\+c@{i2c.\+c}}
\subsubsection{i2c\+\_\+read()}
{\footnotesize\ttfamily int i2c\+\_\+read (\begin{DoxyParamCaption}\item[{int}]{fd,  }\item[{unsigned char}]{slave\+\_\+addr,  }\item[{unsigned char}]{reg\+\_\+addr,  }\item[{unsigned char}]{length,  }\item[{unsigned char $\ast$}]{data }\end{DoxyParamCaption})}

i2c\+\_\+read Read data from the I2C. \mbox{\label{i2c_8c_a1e3e7559d73b070ef09dbfe365c032f7}} 
\index{i2c.\+c@{i2c.\+c}!i2c\+\_\+slave@{i2c\+\_\+slave}}
\index{i2c\+\_\+slave@{i2c\+\_\+slave}!i2c.\+c@{i2c.\+c}}
\subsubsection{i2c\+\_\+slave()}
{\footnotesize\ttfamily int i2c\+\_\+slave (\begin{DoxyParamCaption}\item[{int}]{fd,  }\item[{unsigned char}]{slave\+\_\+addr }\end{DoxyParamCaption})}

i2c\+\_\+slave Configures \textquotesingle{}ioctl\textquotesingle{} when the slave address is changed. \mbox{\label{i2c_8c_acd741d59fd77f48f150cb53d70a520d9}} 
\index{i2c.\+c@{i2c.\+c}!i2c\+\_\+write@{i2c\+\_\+write}}
\index{i2c\+\_\+write@{i2c\+\_\+write}!i2c.\+c@{i2c.\+c}}
\subsubsection{i2c\+\_\+write()}
{\footnotesize\ttfamily int i2c\+\_\+write (\begin{DoxyParamCaption}\item[{int}]{fd,  }\item[{unsigned char}]{slave\+\_\+addr,  }\item[{unsigned char}]{reg\+\_\+addr,  }\item[{unsigned char}]{length,  }\item[{unsigned char const $\ast$}]{data }\end{DoxyParamCaption})}

i2c\+\_\+write Write data to the I2C bus. 