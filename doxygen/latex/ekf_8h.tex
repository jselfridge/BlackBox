\section{/\+Users/jselfridge/\+Documents/\+Git\+Hub/\+Black\+Box/inc/ekf.h File Reference}
\label{ekf_8h}\index{/\+Users/jselfridge/\+Documents/\+Git\+Hub/\+Black\+Box/inc/ekf.\+h@{/\+Users/jselfridge/\+Documents/\+Git\+Hub/\+Black\+Box/inc/ekf.\+h}}
{\ttfamily \#include $<$sys/types.\+h$>$}\newline
{\ttfamily \#include $<$mat\+Lib.\+h$>$}\newline
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \textbf{ ekf\+\_\+struct}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \textbf{ E\+K\+F\+\_\+N}~2
\item 
\#define \textbf{ E\+K\+F\+\_\+M}~4
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \textbf{ ekf\+\_\+struct} \textbf{ ekf\+\_\+struct}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \textbf{ ekf\+\_\+init} (void)
\item 
void \textbf{ ekf\+\_\+exit} (void)
\item 
void \textbf{ ekf\+\_\+update} (void)
\item 
void \textbf{ ekf\+\_\+gain} (void)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\textbf{ ekf\+\_\+struct} \textbf{ ekf}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\mbox{\label{ekf_8h_afdccae2f6ac5625fa693b2646b02a529}} 
\index{ekf.\+h@{ekf.\+h}!E\+K\+F\+\_\+M@{E\+K\+F\+\_\+M}}
\index{E\+K\+F\+\_\+M@{E\+K\+F\+\_\+M}!ekf.\+h@{ekf.\+h}}
\subsubsection{E\+K\+F\+\_\+M}
{\footnotesize\ttfamily \#define E\+K\+F\+\_\+M~4}

\mbox{\label{ekf_8h_aa77a36f2da098625f2ef7618b8de7627}} 
\index{ekf.\+h@{ekf.\+h}!E\+K\+F\+\_\+N@{E\+K\+F\+\_\+N}}
\index{E\+K\+F\+\_\+N@{E\+K\+F\+\_\+N}!ekf.\+h@{ekf.\+h}}
\subsubsection{E\+K\+F\+\_\+N}
{\footnotesize\ttfamily \#define E\+K\+F\+\_\+N~2}



\subsection{Typedef Documentation}
\mbox{\label{ekf_8h_a69ed209ff1304f4628222ae90184fde1}} 
\index{ekf.\+h@{ekf.\+h}!ekf\+\_\+struct@{ekf\+\_\+struct}}
\index{ekf\+\_\+struct@{ekf\+\_\+struct}!ekf.\+h@{ekf.\+h}}
\subsubsection{ekf\+\_\+struct}
{\footnotesize\ttfamily typedef struct \textbf{ ekf\+\_\+struct}  \textbf{ ekf\+\_\+struct}}



\subsection{Function Documentation}
\mbox{\label{ekf_8h_a8605fed4a02d90742432212ca7282884}} 
\index{ekf.\+h@{ekf.\+h}!ekf\+\_\+exit@{ekf\+\_\+exit}}
\index{ekf\+\_\+exit@{ekf\+\_\+exit}!ekf.\+h@{ekf.\+h}}
\subsubsection{ekf\+\_\+exit()}
{\footnotesize\ttfamily void ekf\+\_\+exit (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Exits the E\+KF routine \mbox{\label{ekf_8h_a6596867e430b06a953c9c64a10d47baf}} 
\index{ekf.\+h@{ekf.\+h}!ekf\+\_\+gain@{ekf\+\_\+gain}}
\index{ekf\+\_\+gain@{ekf\+\_\+gain}!ekf.\+h@{ekf.\+h}}
\subsubsection{ekf\+\_\+gain()}
{\footnotesize\ttfamily void ekf\+\_\+gain (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

\mbox{\label{ekf_8h_ab21e660d2b4f6434ae51bfa33acd4946}} 
\index{ekf.\+h@{ekf.\+h}!ekf\+\_\+init@{ekf\+\_\+init}}
\index{ekf\+\_\+init@{ekf\+\_\+init}!ekf.\+h@{ekf.\+h}}
\subsubsection{ekf\+\_\+init()}
{\footnotesize\ttfamily void ekf\+\_\+init (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Initializes the E\+KF structure. 
\begin{DoxyParams}{Parameters}
{\em ekf} & pointer to an E\+KF structure to be initialized \\
\hline
{\em n} & number of system states \\
\hline
{\em m} & number of measurements\\
\hline
\end{DoxyParams}
{\ttfamily ekf} should be a pointer to a structure defined as follows, where {\ttfamily N} and M are constants\+: 
\begin{DoxyPre}
   int n;           // number of state values
   int m;           // number of observables
   double x[N];     // state vector
   double P[N][N];  // prediction error covariance
   double Q[N][N];  // process noise covariance
   double R[M][M];  // measurement error covariance
   double G[N][M];  // Kalman gain; a.k.a. K
   double F[N][N];  // Jacobian of process model
   double H[M][N];  // Jacobian of measurement model
   double Ht[N][M]; // transpose of measurement Jacobian
   double Ft[N][N]; // transpose of process Jacobian
   double Pp[N][N]; // P, post-prediction, pre-update
   double fx[N];    // output of user defined f() state-transition function
   double hx[M];    // output of user defined h() measurement function
\end{DoxyPre}
 \mbox{\label{ekf_8h_a392840dbe690990b6837c5bcb20e5e18}} 
\index{ekf.\+h@{ekf.\+h}!ekf\+\_\+update@{ekf\+\_\+update}}
\index{ekf\+\_\+update@{ekf\+\_\+update}!ekf.\+h@{ekf.\+h}}
\subsubsection{ekf\+\_\+update()}
{\footnotesize\ttfamily void ekf\+\_\+update (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Runs one step of E\+KF prediction and update. Your code should first build a model, setting the contents of {\ttfamily ekf.\+fx}, {\ttfamily ekf.\+F}, {\ttfamily ekf.\+hx}, and {\ttfamily \doxyref{ekf.\+H}{p.}{ekf_8h}} to appropriate values. 
\begin{DoxyParams}{Parameters}
{\em ekf} & pointer to structure E\+KF \\
\hline
{\em z} & array of measurement (observation) values \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, -\/1 on failure caused by non-\/positive-\/definite matrix. 
\end{DoxyReturn}


\subsection{Variable Documentation}
\mbox{\label{ekf_8h_a7facf4df745ca5dff6c475a66a938648}} 
\index{ekf.\+h@{ekf.\+h}!ekf@{ekf}}
\index{ekf@{ekf}!ekf.\+h@{ekf.\+h}}
\subsubsection{ekf}
{\footnotesize\ttfamily \textbf{ ekf\+\_\+struct} ekf}

