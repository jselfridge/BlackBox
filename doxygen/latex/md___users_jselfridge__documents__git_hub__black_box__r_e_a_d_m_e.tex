Develops a cape for a Beagle\+Bone Black to enable \char`\"{}\+Black 
\+Box\char`\"{} functionality for research and development.

\subsection*{Current Tasks }

Enable E\+KF with Kalman gain update inside I\+NS timing loop. 
\begin{DoxyItemize}
\item T\+O\+DO\+: Initialize and exit E\+KF data structures.  
\item T\+O\+DO\+: Run E\+KF inside stabilization loop.  
\item T\+O\+DO\+: Run gain update in I\+NS loop.  
\item T\+O\+DO\+: Enable data logging.  
\item T\+O\+DO\+: Print results to debugging terminal.  
\item T\+O\+DO\+: Flight test E\+KF system.  
\item T\+O\+DO\+: Compare results to Matlab sysid results.  
\end{DoxyItemize}

\subsection*{v0.\+2.\+1 -\/ Inertial Navigation System Loop }


\begin{DoxyItemize}
\item Createed I\+NS souce code and header files.  
\item Setup I\+NS timing loop.  
\item Enabled data logging on timing loop.  
\item Established debgging terminal print statements.  
\end{DoxyItemize}

\subsection*{v0.\+2.\+0 -\/ Quadrotor Basic Flight Capabilities }

This software version focused on the sensors and algorithms to stabilize a quadrotor system flying in the air. It adds a second I\+MU sensor with a 9\+D\+OF Attitude Heading and Reference S\+Ystem (A\+H\+RS) algorithm, G\+PS framework, a Ground Control Station (G\+CS), the framework for an Extended Kalman Filter (E\+KF), and state feedback controller for inner loop stabilization.


\begin{DoxyItemize}
\item {\bfseries  v0.\+1.\+8 -\/ State Feedback Control } 
\begin{DoxyItemize}
\item Revised data structure.  
\item Obtained ref model param from settling time (ts) and percent overshoot (mp).  
\item Developed reference model signals.  
\item Hard code a second order S\+I\+SO algorithm.  
\item Running control law within the stabilization thread.  
\item Implemented data logging.  
\item Added parameters to G\+CS interface.  
\item Bench tested and flight tested new code.  
\end{DoxyItemize}
\item {\bfseries  v0.\+1.\+7 -\/ Extended Kalman Filter (E\+KF) Development } 
\begin{DoxyItemize}
\item Created module for Extended Kalman Filter (E\+KF).  
\item Doing a fast update within the stabilization thread.  
\item Setup slower timing thread for the E\+KF gain update.  
\item Added library for matrix math functionality.  
\item Investigating Chol, LU, and QR factorizations for matrix inverse.  
\item T\+O\+DO\+: Limited by matrix inverse calculation; currently fixed gain.  
\item T\+O\+DO\+: Revise Jacobian (F matrix) at each update; currently static matrix.  
\end{DoxyItemize}
\item {\bfseries  v0.\+1.\+6 -\/ Revised A\+H\+RS code } 
\begin{DoxyItemize}
\item Merged A\+H\+RS into I\+MU source code.  
\item Added both 6\+D\+OF (gyr/acc) and 9\+D\+OF (gyr/acc/mag) solutions.  
\item Includes only one tuning (weighting) parameter.  
\item Added complimentary filters for roll and pitch states.  
\item Crude state estimation is the average of all att and ang states.  
\end{DoxyItemize}
\item {\bfseries  v0.\+1.\+5 -\/ Signal filtering and parameter tuning } 
\begin{DoxyItemize}
\item Revised source code and header file structure.  
\item Incorporated second I\+MU into the system.  
\item Set I2C bus to 200k\+Hz until replacement resistors are available.  
\item Configured tunable control gains for quadrotor vehicle.  
\item Developed module for filter functionality.  
\item Configured tunable filter settings from G\+CS.  
\item Log parameter changes made by G\+CS.  
\item Tuned L\+PF settings for small quad.  
\end{DoxyItemize}
\item {\bfseries  v0.\+1.\+4 -\/ Ground Control Station (G\+CS) } 
\begin{DoxyItemize}
\item Set up timing thread code for G\+CS and send generic msg  
\item Read transmission through external U\+S\+B/\+F\+T\+DI cable  
\item Download and setup standard Mav\+Link header code library  
\item Send heartbeat over U\+A\+RT  
\item Connect to Q\+GC and read heartbeat in software  
\item Send state info to G\+CS  
\item Receive parameter updates from G\+CS  
\end{DoxyItemize}
\item {\bfseries v0.\+1.\+3 -\/ G\+PS Receiver } 
\begin{DoxyItemize}
\item Reading G\+PS through U\+A\+RT port.  
\item Added code to configure G\+PS parameters.  
\item Running checksum to verify accurate message.  
\item Logging G\+PS message data.  
\end{DoxyItemize}
\item {\bfseries  v0.\+1.\+2 -\/ Configure serial U\+A\+R\+TS } 
\begin{DoxyItemize}
\item Enabled four U\+A\+RT channels within D\+TO.  
\item Added new header and source code files for U\+A\+RT functionality.  
\item Incorporated new timing threads.  
\item Enable specific U\+A\+R\+Ts as needed.  
\end{DoxyItemize}
\item {\bfseries  v0.\+1.\+1 -\/ Second I2C channel } 
\begin{DoxyItemize}
\item Revised M\+PU code directory structure.  
\item Revised M\+PU function calls to accept second I2C channel.  
\item Implemented custom I2C code framework.  
\item Added second I\+MU sensor.  
\item Added code to toggle which I\+M\+Us are operational.  
\end{DoxyItemize}
\end{DoxyItemize}

\subsection*{v0.\+1.\+0 -\/ Operational system }

This software version focused on making the Black\+Box system operational as an avionics board. It includes the bare essentials needed to get a simple quadrotor system into the air.


\begin{DoxyItemize}
\item {\bfseries  v0.\+0.\+5 -\/ Controller framework } 
\begin{DoxyItemize}
\item Added new timing thread for control loop  
\item Developed a \char`\"{}pass through\char`\"{} one-\/to-\/one I/O mapping for debugging  
\item Added control data structure  
\item Tested the disarm feature with system output  
\item Implemented first pass P\+ID control law for quadrotor  
\item Enableed datalog for control parameters  
\end{DoxyItemize}
\item {\bfseries  V0.\+0.\+4 -\/ Attitude and heading reference system } 
\begin{DoxyItemize}
\item Added new timing thread for A\+HR  
\item Added A\+HR data structure  
\item Evaluated L\+PF algorithm  
\item Added 9\+D\+OF data fusion algorithm  
\item Enabled A\+HR datalogging  
\item Calibrated I\+M\+U/\+A\+HR settings  
\end{DoxyItemize}
\item {\bfseries  V0.\+0.\+3 -\/ Program execution flags } 
\begin{DoxyItemize}
\item New timing thread for program execution flags  
\item Register stick endpoint positions  
\item Counter records hold duration  
\item Reset counters once stick condition is released  
\item Trips boolean flags for stick positions  
\item Enable/\+Disable datalog  
\item Disable I\+MU and other loops during data download  
\item Arm/\+Disarm system outputs  
\item Exit program through radio commands  
\end{DoxyItemize}
\item {\bfseries  V0.\+0.\+2 -\/ System input and output signals } 
\begin{DoxyItemize}
\item New timing thread for I/O signals  
\item Developed data structure for I/O signals  
\item Included datalog system I/O signals  
\item Configured system for P\+RU capabilities  
\item Enabled P\+R\+U-\/based P\+WM inputs  
\item Enabled P\+R\+U-\/based P\+WM outputs  
\item Added mutex conditions  
\item Enabled I2C in D\+TO  
\item Confirmed signals on scope  
\item Adjusted P\+WM loop value to achieve 400\+Hz  
\end{DoxyItemize}
\item {\bfseries  V0.\+0.\+1 -\/ Real time multithreading development } 
\begin{DoxyItemize}
\item Linux beaglebone 4.\+1.\+15-\/ti-\/rt-\/r41 S\+MP P\+R\+E\+E\+M\+PT RT armv7l  
\item Configured high speed 400k\+Hz I2C timer  
\item Program exit condition  
\item Establish real time priority  
\item Lock and reserve memeory  
\item Setup multithread for \textquotesingle{}debug\textquotesingle{} and \textquotesingle{}imu\textquotesingle{} systems  
\item Established mutex conditions for data protection  
\item Enable single I\+MU sensor  
\item Read calibration data from file  
\item Read gyr/acc at 1000hz, and mag at 100 hz  
\item Low pass filter on I\+MU data  
\item Scale raw I\+MU data to physical values  
\item Setup crude initial datalogging system  
\item G\+P\+IO functions to toggle pins  
\item L\+ED functions to manipulate user L\+E\+Ds  
\end{DoxyItemize}
\end{DoxyItemize}

\subsection*{Pending Work }

The following list outlines some proposed upcoming change.

{\bfseries  Other tasks } 
\begin{DoxyItemize}
\item {\bfseries  Top Priority } 
\begin{DoxyItemize}
\item Develop more sophisticated quad controllers  
\item Add safety features  
\end{DoxyItemize}
\item {\bfseries  Controls } 
\begin{DoxyItemize}
\item Multisine signal generator  
\item System ID quad  
\item S\+I\+SO M\+R\+AC quad  
\item M\+I\+MO M\+R\+AC quad  
\item Add Kalman filter  
\end{DoxyItemize}
\item {\bfseries  Safety Features } 
\begin{DoxyItemize}
\item Transistor power distribution kill switch  
\item Add health/status monitoring thread  
\item Add warning for missed timing on thread  
\item Revise certain functions to have int error return values  
\end{DoxyItemize}
\item {\bfseries  Modularity } 
\begin{DoxyItemize}
\item Abstract the controller to be applied to various vehicles with same structure  
\item Calibrated radio ranges  
\item Define statements to enable specific datalogs  
\item Log generation within a function  
\item Modular structure to allow for differnet vehicles  
\item Incorporate doxygen into code development  
\end{DoxyItemize}
\item {\bfseries  I\+MU and I2C Improvements } 
\begin{DoxyItemize}
\item V\+I\+C\+ON data comparision  
\item Replace hard coded gyr bias with saved parameters from a file  
\item Make I2C source/header code more modular  
\item Test pull up resistors on I\+MU breakout board  
\item I\+MU convergence on start up  
\item I\+MU indicator for successful convergence  
\item I\+MU interrupt when data is available  
\item Enable address 0x69 in I\+MU code  
\item Second I\+MU sensor on single I2C channel  
\item Independent/parallel I2C channel threads  
\item Add altitude sensor  
\item Incorporate altitude hold  
\item Calculate and apply rotation transformation for accelerometer mounting errors  
\end{DoxyItemize}
\end{DoxyItemize}