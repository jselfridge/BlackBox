\section{/\+Users/jselfridge/\+Documents/\+Git\+Hub/\+Black\+Box/src/mpu.c File Reference}
\label{mpu_8c}\index{/\+Users/jselfridge/\+Documents/\+Git\+Hub/\+Black\+Box/src/mpu.\+c@{/\+Users/jselfridge/\+Documents/\+Git\+Hub/\+Black\+Box/src/mpu.\+c}}
{\ttfamily \#include \char`\"{}mpu.\+h\char`\"{}}\newline
{\ttfamily \#include $<$math.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$unistd.\+h$>$}\newline
{\ttfamily \#include \char`\"{}i2c.\+h\char`\"{}}\newline
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \textbf{ gyro\+\_\+reg\+\_\+s}
\item 
struct \textbf{ hw\+\_\+s}
\item 
struct \textbf{ motion\+\_\+int\+\_\+cache\+\_\+s}
\item 
struct \textbf{ chip\+\_\+cfg\+\_\+s}
\item 
struct \textbf{ test\+\_\+s}
\item 
struct \textbf{ gyro\+\_\+state\+\_\+s}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \textbf{ B\+I\+T\+\_\+\+I2\+C\+\_\+\+M\+S\+T\+\_\+\+V\+D\+D\+IO}~(0x80)
\item 
\#define \textbf{ B\+I\+T\+\_\+\+F\+I\+F\+O\+\_\+\+EN}~(0x40)
\item 
\#define \textbf{ B\+I\+T\+\_\+\+D\+M\+P\+\_\+\+EN}~(0x80)
\item 
\#define \textbf{ B\+I\+T\+\_\+\+F\+I\+F\+O\+\_\+\+R\+ST}~(0x04)
\item 
\#define \textbf{ B\+I\+T\+\_\+\+D\+M\+P\+\_\+\+R\+ST}~(0x08)
\item 
\#define \textbf{ B\+I\+T\+\_\+\+F\+I\+F\+O\+\_\+\+O\+V\+E\+R\+F\+L\+OW}~(0x10)
\item 
\#define \textbf{ B\+I\+T\+\_\+\+D\+A\+T\+A\+\_\+\+R\+D\+Y\+\_\+\+EN}~(0x01)
\item 
\#define \textbf{ B\+I\+T\+\_\+\+D\+M\+P\+\_\+\+I\+N\+T\+\_\+\+EN}~(0x02)
\item 
\#define \textbf{ B\+I\+T\+\_\+\+M\+O\+T\+\_\+\+I\+N\+T\+\_\+\+EN}~(0x40)
\item 
\#define \textbf{ B\+I\+T\+S\+\_\+\+F\+SR}~(0x18)
\item 
\#define \textbf{ B\+I\+T\+S\+\_\+\+L\+PF}~(0x07)
\item 
\#define \textbf{ B\+I\+T\+S\+\_\+\+H\+PF}~(0x07)
\item 
\#define \textbf{ B\+I\+T\+S\+\_\+\+C\+LK}~(0x07)
\item 
\#define \textbf{ B\+I\+T\+\_\+\+F\+I\+F\+O\+\_\+\+S\+I\+Z\+E\+\_\+1024}~(0x40)
\item 
\#define \textbf{ B\+I\+T\+\_\+\+F\+I\+F\+O\+\_\+\+S\+I\+Z\+E\+\_\+2048}~(0x80)
\item 
\#define \textbf{ B\+I\+T\+\_\+\+F\+I\+F\+O\+\_\+\+S\+I\+Z\+E\+\_\+4096}~(0x\+C0)
\item 
\#define \textbf{ B\+I\+T\+\_\+\+R\+E\+S\+ET}~(0x80)
\item 
\#define \textbf{ B\+I\+T\+\_\+\+S\+L\+E\+EP}~(0x40)
\item 
\#define \textbf{ B\+I\+T\+\_\+\+S0\+\_\+\+D\+E\+L\+A\+Y\+\_\+\+EN}~(0x01)
\item 
\#define \textbf{ B\+I\+T\+\_\+\+S2\+\_\+\+D\+E\+L\+A\+Y\+\_\+\+EN}~(0x04)
\item 
\#define \textbf{ B\+I\+T\+S\+\_\+\+S\+L\+A\+V\+E\+\_\+\+L\+E\+N\+G\+TH}~(0x0\+F)
\item 
\#define \textbf{ B\+I\+T\+\_\+\+S\+L\+A\+V\+E\+\_\+\+B\+Y\+T\+E\+\_\+\+SW}~(0x40)
\item 
\#define \textbf{ B\+I\+T\+\_\+\+S\+L\+A\+V\+E\+\_\+\+G\+R\+O\+UP}~(0x10)
\item 
\#define \textbf{ B\+I\+T\+\_\+\+S\+L\+A\+V\+E\+\_\+\+EN}~(0x80)
\item 
\#define \textbf{ B\+I\+T\+\_\+\+I2\+C\+\_\+\+R\+E\+AD}~(0x80)
\item 
\#define \textbf{ B\+I\+T\+S\+\_\+\+I2\+C\+\_\+\+M\+A\+S\+T\+E\+R\+\_\+\+D\+LY}~(0x1\+F)
\item 
\#define \textbf{ B\+I\+T\+\_\+\+A\+U\+X\+\_\+\+I\+F\+\_\+\+EN}~(0x20)
\item 
\#define \textbf{ B\+I\+T\+\_\+\+A\+C\+TL}~(0x80)
\item 
\#define \textbf{ B\+I\+T\+\_\+\+L\+A\+T\+C\+H\+\_\+\+EN}~(0x20)
\item 
\#define \textbf{ B\+I\+T\+\_\+\+A\+N\+Y\+\_\+\+R\+D\+\_\+\+C\+LR}~(0x10)
\item 
\#define \textbf{ B\+I\+T\+\_\+\+B\+Y\+P\+A\+S\+S\+\_\+\+EN}~(0x02)
\item 
\#define \textbf{ B\+I\+T\+S\+\_\+\+W\+O\+M\+\_\+\+EN}~(0x\+C0)
\item 
\#define \textbf{ B\+I\+T\+\_\+\+L\+P\+A\+\_\+\+C\+Y\+C\+LE}~(0x20)
\item 
\#define \textbf{ B\+I\+T\+\_\+\+S\+T\+B\+Y\+\_\+\+XA}~(0x20)
\item 
\#define \textbf{ B\+I\+T\+\_\+\+S\+T\+B\+Y\+\_\+\+YA}~(0x10)
\item 
\#define \textbf{ B\+I\+T\+\_\+\+S\+T\+B\+Y\+\_\+\+ZA}~(0x08)
\item 
\#define \textbf{ B\+I\+T\+\_\+\+S\+T\+B\+Y\+\_\+\+XG}~(0x04)
\item 
\#define \textbf{ B\+I\+T\+\_\+\+S\+T\+B\+Y\+\_\+\+YG}~(0x02)
\item 
\#define \textbf{ B\+I\+T\+\_\+\+S\+T\+B\+Y\+\_\+\+ZG}~(0x01)
\item 
\#define \textbf{ B\+I\+T\+\_\+\+S\+T\+B\+Y\+\_\+\+X\+Y\+ZA}~(\textbf{ B\+I\+T\+\_\+\+S\+T\+B\+Y\+\_\+\+XA} $\vert$ \textbf{ B\+I\+T\+\_\+\+S\+T\+B\+Y\+\_\+\+YA} $\vert$ \textbf{ B\+I\+T\+\_\+\+S\+T\+B\+Y\+\_\+\+ZA})
\item 
\#define \textbf{ B\+I\+T\+\_\+\+S\+T\+B\+Y\+\_\+\+X\+Y\+ZG}~(\textbf{ B\+I\+T\+\_\+\+S\+T\+B\+Y\+\_\+\+XG} $\vert$ \textbf{ B\+I\+T\+\_\+\+S\+T\+B\+Y\+\_\+\+YG} $\vert$ \textbf{ B\+I\+T\+\_\+\+S\+T\+B\+Y\+\_\+\+ZG})
\item 
\#define \textbf{ M\+A\+X\+\_\+\+P\+A\+C\+K\+E\+T\+\_\+\+L\+E\+N\+G\+TH}~(12)
\item 
\#define \textbf{ L\+O\+A\+D\+\_\+\+C\+H\+U\+NK}~(16)
\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \textbf{ lpf\+\_\+e} \{ \newline
\textbf{ I\+N\+V\+\_\+\+F\+I\+L\+T\+E\+R\+\_\+256\+H\+Z\+\_\+\+N\+O\+L\+P\+F2} = 0, 
\textbf{ I\+N\+V\+\_\+\+F\+I\+L\+T\+E\+R\+\_\+188\+HZ}, 
\textbf{ I\+N\+V\+\_\+\+F\+I\+L\+T\+E\+R\+\_\+98\+HZ}, 
\textbf{ I\+N\+V\+\_\+\+F\+I\+L\+T\+E\+R\+\_\+42\+HZ}, 
\newline
\textbf{ I\+N\+V\+\_\+\+F\+I\+L\+T\+E\+R\+\_\+20\+HZ}, 
\textbf{ I\+N\+V\+\_\+\+F\+I\+L\+T\+E\+R\+\_\+10\+HZ}, 
\textbf{ I\+N\+V\+\_\+\+F\+I\+L\+T\+E\+R\+\_\+5\+HZ}, 
\textbf{ I\+N\+V\+\_\+\+F\+I\+L\+T\+E\+R\+\_\+2100\+H\+Z\+\_\+\+N\+O\+L\+PF}, 
\newline
\textbf{ N\+U\+M\+\_\+\+F\+I\+L\+T\+ER}
 \}
\item 
enum \textbf{ gyro\+\_\+fsr\+\_\+e} \{ \newline
\textbf{ I\+N\+V\+\_\+\+F\+S\+R\+\_\+250\+D\+PS} = 0, 
\textbf{ I\+N\+V\+\_\+\+F\+S\+R\+\_\+500\+D\+PS}, 
\textbf{ I\+N\+V\+\_\+\+F\+S\+R\+\_\+1000\+D\+PS}, 
\textbf{ I\+N\+V\+\_\+\+F\+S\+R\+\_\+2000\+D\+PS}, 
\newline
\textbf{ N\+U\+M\+\_\+\+G\+Y\+R\+O\+\_\+\+F\+SR}
 \}
\item 
enum \textbf{ accel\+\_\+fsr\+\_\+e} \{ \newline
\textbf{ I\+N\+V\+\_\+\+F\+S\+R\+\_\+2G} = 0, 
\textbf{ I\+N\+V\+\_\+\+F\+S\+R\+\_\+4G}, 
\textbf{ I\+N\+V\+\_\+\+F\+S\+R\+\_\+8G}, 
\textbf{ I\+N\+V\+\_\+\+F\+S\+R\+\_\+16G}, 
\newline
\textbf{ N\+U\+M\+\_\+\+A\+C\+C\+E\+L\+\_\+\+F\+SR}
 \}
\item 
enum \textbf{ clock\+\_\+sel\+\_\+e} \{ \textbf{ I\+N\+V\+\_\+\+C\+L\+K\+\_\+\+I\+N\+T\+E\+R\+N\+AL} = 0, 
\textbf{ I\+N\+V\+\_\+\+C\+L\+K\+\_\+\+P\+LL}, 
\textbf{ N\+U\+M\+\_\+\+C\+LK}
 \}
\item 
enum \textbf{ lp\+\_\+accel\+\_\+rate\+\_\+e} 
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \textbf{ mpu\+\_\+reg\+\_\+dump} (int fd)
\begin{DoxyCompactList}\small\item\em Register dump for testing. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+read\+\_\+reg} (int fd, unsigned char reg, unsigned char $\ast$data)
\begin{DoxyCompactList}\small\item\em Read from a single register. N\+O\+TE\+: The memory and F\+I\+FO read/write registers cannot be accessed. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+init} (int fd, struct \textbf{ int\+\_\+param\+\_\+s} $\ast$int\+\_\+param)
\begin{DoxyCompactList}\small\item\em Initialize hardware. Initial configuration\+:~\newline
Gyro F\+SR\+: +/-\/ 2000\+D\+PS~\newline
Accel F\+SR +/-\/ 2G~\newline
D\+L\+PF\+: 42\+Hz~\newline
F\+I\+FO rate\+: 50\+Hz~\newline
Clock source\+: Gyro P\+LL~\newline
F\+I\+FO\+: Disabled.~\newline
Data ready interrupt\+: Disabled, active low, unlatched. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+lp\+\_\+accel\+\_\+mode} (int fd, unsigned short rate)
\begin{DoxyCompactList}\small\item\em Enter low-\/power accel-\/only mode. In low-\/power accel mode, the chip goes to sleep and only wakes up to sample the accelerometer at one of the following frequencies\+: ~\newline
 M\+P\+U6050\+: 1.\+25\+Hz, 5\+Hz, 20\+Hz, 40\+Hz ~\newline
 M\+P\+U6500\+: 1.\+25\+Hz, 2.\+5\+Hz, 5\+Hz, 10\+Hz, 20\+Hz, 40\+Hz, 80\+Hz, 160\+Hz, 320\+Hz, 640\+Hz ~\newline
 If the requested rate is not one listed above, the device will be set to the next highest rate. Requesting a rate above the maximum supported frequency will result in an error. ~\newline
 To select a fractional wake-\/up frequency, round down the value passed to {\itshape rate}. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+get\+\_\+gyro\+\_\+reg} (int fd, short $\ast$data, unsigned long $\ast$timestamp)
\begin{DoxyCompactList}\small\item\em Read raw gyro data directly from the registers. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+get\+\_\+accel\+\_\+reg} (int fd, short $\ast$data, unsigned long $\ast$timestamp)
\begin{DoxyCompactList}\small\item\em Read raw accel data directly from the registers. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+get\+\_\+temperature} (int fd, long $\ast$data, unsigned long $\ast$timestamp)
\begin{DoxyCompactList}\small\item\em Read temperature data directly from the registers. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+read\+\_\+6500\+\_\+accel\+\_\+bias} (int fd, long $\ast$accel\+\_\+bias)
\begin{DoxyCompactList}\small\item\em Read biases to the accel bias 6500 registers. This function reads from the M\+P\+U6500 accel offset cancellations registers. The format are G in +-\/8G format. The register is initialized with O\+TP factory trim values. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+read\+\_\+6050\+\_\+accel\+\_\+bias} (int fd, long $\ast$accel\+\_\+bias)
\begin{DoxyCompactList}\small\item\em Read biases to the accel bias 6050 registers. This function reads from the M\+P\+U6050 accel offset cancellations registers. The format are G in +-\/8G format. The register is initialized with O\+TP factory trim values. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+read\+\_\+6500\+\_\+gyro\+\_\+bias} (int fd, long $\ast$gyro\+\_\+bias)
\item 
int \textbf{ mpu\+\_\+set\+\_\+gyro\+\_\+bias\+\_\+reg} (int fd, long $\ast$gyro\+\_\+bias)
\begin{DoxyCompactList}\small\item\em Push biases to the gyro bias 6500/6050 registers. This function expects biases relative to the current sensor output, and these biases will be added to the factory-\/supplied values. Bias inputs are L\+SB in +-\/1000dps format. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+set\+\_\+accel\+\_\+bias\+\_\+6050\+\_\+reg} (int fd, const long $\ast$accel\+\_\+bias)
\begin{DoxyCompactList}\small\item\em Push biases to the accel bias 6050 registers. This function expects biases relative to the current sensor output, and these biases will be added to the factory-\/supplied values. Bias inputs are L\+SB in +-\/16G format. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+set\+\_\+accel\+\_\+bias\+\_\+6500\+\_\+reg} (int fd, const long $\ast$accel\+\_\+bias)
\begin{DoxyCompactList}\small\item\em Push biases to the accel bias 6500 registers. This function expects biases relative to the current sensor output, and these biases will be added to the factory-\/supplied values. Bias inputs are L\+SB in +-\/16G format. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+reset\+\_\+fifo} (int fd)
\begin{DoxyCompactList}\small\item\em Reset F\+I\+FO read/write pointers. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+get\+\_\+gyro\+\_\+fsr} (unsigned short $\ast$fsr)
\begin{DoxyCompactList}\small\item\em Get the gyro full-\/scale range. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+set\+\_\+gyro\+\_\+fsr} (int fd, unsigned short fsr)
\begin{DoxyCompactList}\small\item\em Set the gyro full-\/scale range. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+get\+\_\+accel\+\_\+fsr} (unsigned char $\ast$fsr)
\begin{DoxyCompactList}\small\item\em Get the accel full-\/scale range. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+set\+\_\+accel\+\_\+fsr} (int fd, unsigned char fsr)
\begin{DoxyCompactList}\small\item\em Set the accel full-\/scale range. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+get\+\_\+lpf} (unsigned short $\ast$lpf)
\begin{DoxyCompactList}\small\item\em Get the current D\+L\+PF setting. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+set\+\_\+lpf} (int fd, unsigned short lpf)
\begin{DoxyCompactList}\small\item\em Set digital low pass filter. The following L\+PF settings are supported\+: 188, 98, 42, 20, 10, 5. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+get\+\_\+sample\+\_\+rate} (unsigned short $\ast$rate)
\begin{DoxyCompactList}\small\item\em Get sampling rate. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+set\+\_\+sample\+\_\+rate} (int fd, unsigned short rate)
\begin{DoxyCompactList}\small\item\em Set sampling rate. Sampling rate must be between 4\+Hz and 1k\+Hz. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+get\+\_\+compass\+\_\+sample\+\_\+rate} (unsigned short $\ast$rate)
\begin{DoxyCompactList}\small\item\em Get compass sampling rate. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+set\+\_\+compass\+\_\+sample\+\_\+rate} (int fd, unsigned short rate)
\begin{DoxyCompactList}\small\item\em Set compass sampling rate. The compass on the auxiliary I2C bus is read by the M\+PU hardware at a maximum of 100\+Hz. The actual rate can be set to a fraction of the gyro sampling rate. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+get\+\_\+gyro\+\_\+sens} (float $\ast$sens)
\begin{DoxyCompactList}\small\item\em Get gyro sensitivity scale factor. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+get\+\_\+accel\+\_\+sens} (unsigned short $\ast$sens)
\begin{DoxyCompactList}\small\item\em Get accel sensitivity scale factor. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+get\+\_\+fifo\+\_\+config} (unsigned char $\ast$sensors)
\begin{DoxyCompactList}\small\item\em Get current F\+I\+FO configuration. {\itshape sensors} can contain a combination of the following flags\+: ~\newline
 I\+N\+V\+\_\+\+X\+\_\+\+G\+Y\+RO, I\+N\+V\+\_\+\+Y\+\_\+\+G\+Y\+RO, I\+N\+V\+\_\+\+Z\+\_\+\+G\+Y\+RO ~\newline
 I\+N\+V\+\_\+\+X\+Y\+Z\+\_\+\+G\+Y\+RO ~\newline
 I\+N\+V\+\_\+\+X\+Y\+Z\+\_\+\+A\+C\+C\+EL. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+configure\+\_\+fifo} (int fd, unsigned char sensors)
\begin{DoxyCompactList}\small\item\em Select which sensors are pushed to F\+I\+FO. {\itshape sensors} can contain a combination of the following flags\+: ~\newline
 I\+N\+V\+\_\+\+X\+\_\+\+G\+Y\+RO, I\+N\+V\+\_\+\+Y\+\_\+\+G\+Y\+RO, I\+N\+V\+\_\+\+Z\+\_\+\+G\+Y\+RO ~\newline
 I\+N\+V\+\_\+\+X\+Y\+Z\+\_\+\+G\+Y\+RO ~\newline
 I\+N\+V\+\_\+\+X\+Y\+Z\+\_\+\+A\+C\+C\+EL. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+get\+\_\+power\+\_\+state} (unsigned char $\ast$power\+\_\+on)
\begin{DoxyCompactList}\small\item\em Get current power state. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+set\+\_\+sensors} (int fd, unsigned char sensors)
\begin{DoxyCompactList}\small\item\em Turn specific sensors on/off. {\itshape sensors} can contain a combination of the following flags\+: ~\newline
 I\+N\+V\+\_\+\+X\+\_\+\+G\+Y\+RO, I\+N\+V\+\_\+\+Y\+\_\+\+G\+Y\+RO, I\+N\+V\+\_\+\+Z\+\_\+\+G\+Y\+RO ~\newline
 I\+N\+V\+\_\+\+X\+Y\+Z\+\_\+\+G\+Y\+RO ~\newline
 I\+N\+V\+\_\+\+X\+Y\+Z\+\_\+\+A\+C\+C\+EL ~\newline
 I\+N\+V\+\_\+\+X\+Y\+Z\+\_\+\+C\+O\+M\+P\+A\+SS. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+get\+\_\+int\+\_\+status} (int fd, short $\ast$status)
\begin{DoxyCompactList}\small\item\em Read the M\+PU interrupt status registers. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+read\+\_\+fifo} (int fd, short $\ast$gyro, short $\ast$accel, unsigned long $\ast$timestamp, unsigned char $\ast$sensors, unsigned char $\ast$more)
\begin{DoxyCompactList}\small\item\em Get one packet from the F\+I\+FO. If {\itshape sensors} does not contain a particular sensor, disregard the data returned to that pointer. ~\newline
 {\itshape sensors} can contain a combination of the following flags\+: ~\newline
 I\+N\+V\+\_\+\+X\+\_\+\+G\+Y\+RO, I\+N\+V\+\_\+\+Y\+\_\+\+G\+Y\+RO, I\+N\+V\+\_\+\+Z\+\_\+\+G\+Y\+RO ~\newline
 I\+N\+V\+\_\+\+X\+Y\+Z\+\_\+\+G\+Y\+RO ~\newline
 I\+N\+V\+\_\+\+X\+Y\+Z\+\_\+\+A\+C\+C\+EL ~\newline
 If the F\+I\+FO has no new data, {\itshape sensors} will be zero. ~\newline
 If the F\+I\+FO is disabled, {\itshape sensors} will be zero and this function will return a non-\/zero error code. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+read\+\_\+fifo\+\_\+stream} (int fd, unsigned short length, unsigned char $\ast$data, unsigned char $\ast$more)
\begin{DoxyCompactList}\small\item\em Get one unparsed packet from the F\+I\+FO. This function should be used if the packet is to be parsed elsewhere. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+set\+\_\+bypass} (int fd, unsigned char bypass\+\_\+on)
\begin{DoxyCompactList}\small\item\em Set device to bypass mode. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+set\+\_\+int\+\_\+level} (unsigned char active\+\_\+low)
\begin{DoxyCompactList}\small\item\em Set interrupt level. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+set\+\_\+int\+\_\+latched} (int fd, unsigned char enable)
\begin{DoxyCompactList}\small\item\em Enable latched interrupts. Any M\+PU register will clear the interrupt. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+run\+\_\+self\+\_\+test} (int fd, long $\ast$gyro, long $\ast$accel)
\item 
int \textbf{ mpu\+\_\+write\+\_\+mem} (int fd, unsigned short mem\+\_\+addr, unsigned short length, unsigned char $\ast$data)
\begin{DoxyCompactList}\small\item\em Write to the D\+MP memory. This function prevents I2C writes past the bank boundaries. The D\+MP memory is only accessible when the chip is awake. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+read\+\_\+mem} (int fd, unsigned short mem\+\_\+addr, unsigned short length, unsigned char $\ast$data)
\begin{DoxyCompactList}\small\item\em Read from the D\+MP memory. This function prevents I2C reads past the bank boundaries. The D\+MP memory is only accessible when the chip is awake. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+load\+\_\+firmware} (int fd, unsigned short length, const unsigned char $\ast$firmware, unsigned short start\+\_\+addr, unsigned short sample\+\_\+rate)
\begin{DoxyCompactList}\small\item\em Load and verify D\+MP image. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+set\+\_\+dmp\+\_\+state} (int fd, unsigned char enable)
\begin{DoxyCompactList}\small\item\em Enable/disable D\+MP support. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+get\+\_\+dmp\+\_\+state} (unsigned char $\ast$enabled)
\begin{DoxyCompactList}\small\item\em Get D\+MP state. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+get\+\_\+compass\+\_\+reg} (int fd, short $\ast$data, unsigned long $\ast$timestamp)
\begin{DoxyCompactList}\small\item\em Read raw compass data. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+get\+\_\+compass\+\_\+fsr} (unsigned short $\ast$fsr)
\begin{DoxyCompactList}\small\item\em Get the compass full-\/scale range. \end{DoxyCompactList}\item 
int \textbf{ mpu\+\_\+lp\+\_\+motion\+\_\+interrupt} (int fd, unsigned short thresh, unsigned char time, unsigned short lpa\+\_\+freq)
\begin{DoxyCompactList}\small\item\em Enters LP accel motion interrupt mode. The behaviour of this feature is very different between the M\+P\+U6050 and the M\+P\+U6500. Each chip\textquotesingle{}s version of this feature is explained below. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\mbox{\label{mpu_8c_a7750730ae7e5c713b619e347d44185fe}} 
\index{mpu.\+c@{mpu.\+c}!L\+O\+A\+D\+\_\+\+C\+H\+U\+NK@{L\+O\+A\+D\+\_\+\+C\+H\+U\+NK}}
\index{L\+O\+A\+D\+\_\+\+C\+H\+U\+NK@{L\+O\+A\+D\+\_\+\+C\+H\+U\+NK}!mpu.\+c@{mpu.\+c}}
\subsubsection{L\+O\+A\+D\+\_\+\+C\+H\+U\+NK}
{\footnotesize\ttfamily \#define L\+O\+A\+D\+\_\+\+C\+H\+U\+NK~(16)}

